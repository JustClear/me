{"version":3,"file":null,"sources":["../src/observer/index.js","../src/reactive/index.js","../src/dom/index.js","../src/observer/observeData.js","../src/core/core.js"],"sourcesContent":["// observer\n\nlet callbacks = {};\n\nexport function observe(key, callback) {\n    if (!callbacks[key]) {\n        callbacks[key] = [];\n    }\n\n    callbacks[key].push(callback);\n}\n\nexport function dispatch(key) {\n    if (callbacks && callbacks[key]) {\n        callbacks[key].map(callback => callback());\n    }\n}\n","// reactive\n\nimport { dispatch } from '../observer/index';\n\nexport default function reactive(object, key) {\n    let value = object[key];\n\n    Object.defineProperty(object, key, {\n        get() {\n            return value;\n        },\n        set(newValue) {\n            value = newValue;\n            dispatch(key);\n        },\n    });\n}\n","// dom\n\nimport { observe } from '../observer/index';\n\nexport function observeNode(node, observeable, property) {\n    node.textContent = observeable[property];\n\n    observe(property, () => node.textContent = observeable[property]);\n}\n\nexport function parseDirective(observeable) {\n    let nodes = document.querySelectorAll('[v-text]');\n\n    nodes.forEach(node => {\n        observeNode(node, observeable, node.attributes['v-text'].value);\n    });\n}\n","// observe data\n\nimport reactive from '../reactive/index';\nimport { parseDirective } from '../dom/index';\n\nexport default function observeData(object) {\n    let key;\n\n    for (key in object) {\n        if (object.hasOwnProperty(key)) {\n            reactive(object, key);\n        }\n    }\n\n    parseDirective(object);\n}\n","import observeData from '../observer/observeData';\nimport { observe } from '../observer/index';\n\nfunction Me(options = {}) {\n\n    return new Me.fn.init(options);\n}\n\nMe.fn = Me.prototype = {\n    constructor: Me,\n    init(options) {\n        observeData(options.data);\n        return {\n            data: options.data,\n            observe,\n        };\n    },\n};\n\nexport default Me;\n"],"names":["callbacks","observe","key","callback","push","dispatch","map","reactive","object","value","Object","defineProperty","get","set","newValue","observeNode","node","observeable","property","textContent","parseDirective","nodes","document","querySelectorAll","forEach","attributes","observeData","hasOwnProperty","Me","options","fn","init","prototype","constructor","data"],"mappings":";;;;;;IAAA;;AAEA,IAAA,IAAIA,YAAY,EAAhB;;AAEA,AAAO,IAAA,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,QAAtB,EAAgC;AACnC,IAAA,QAAI,CAACH,UAAUE,GAAV,CAAL,EAAqB;AACjBF,IAAAA,kBAAUE,GAAV,IAAiB,EAAjB;AACH,IAAA;;AAEDF,IAAAA,cAAUE,GAAV,EAAeE,IAAf,CAAoBD,QAApB;AACH,IAAA;;AAED,AAAO,IAAA,SAASE,QAAT,CAAkBH,GAAlB,EAAuB;AAC1B,IAAA,QAAIF,aAAaA,UAAUE,GAAV,CAAjB,EAAiC;AAC7BF,IAAAA,kBAAUE,GAAV,EAAeI,GAAf,CAAmB;AAAA,IAAA,mBAAYH,UAAZ;AAAA,IAAA,SAAnB;AACH,IAAA;AACJ,IAAA;;ICZc,SAASI,QAAT,CAAkBC,MAAlB,EAA0BN,GAA1B,EAA+B;AAC1C,IAAA,QAAIO,QAAQD,OAAON,GAAP,CAAZ;;AAEAQ,IAAAA,WAAOC,cAAP,CAAsBH,MAAtB,EAA8BN,GAA9B,EAAmC;AAC/BU,IAAAA,WAD+B,iBACzB;AACF,IAAA,mBAAOH,KAAP;AACH,IAAA,SAH8B;AAI/BI,IAAAA,WAJ+B,eAI3BC,QAJ2B,EAIjB;AACVL,IAAAA,oBAAQK,QAAR;AACAT,IAAAA,qBAASH,GAAT;AACH,IAAA;AAP8B,IAAA,KAAnC;AASH,IAAA;;ICZM,SAASa,WAAT,CAAqBC,IAArB,EAA2BC,WAA3B,EAAwCC,QAAxC,EAAkD;AACrDF,IAAAA,SAAKG,WAAL,GAAmBF,YAAYC,QAAZ,CAAnB;;AAEAjB,IAAAA,YAAQiB,QAAR,EAAkB;AAAA,IAAA,eAAMF,KAAKG,WAAL,GAAmBF,YAAYC,QAAZ,CAAzB;AAAA,IAAA,KAAlB;AACH,IAAA;;AAED,AAAO,IAAA,SAASE,cAAT,CAAwBH,WAAxB,EAAqC;AACxC,IAAA,QAAII,QAAQC,SAASC,gBAAT,CAA0B,UAA1B,CAAZ;;AAEAF,IAAAA,UAAMG,OAAN,CAAc,gBAAQ;AAClBT,IAAAA,oBAAYC,IAAZ,EAAkBC,WAAlB,EAA+BD,KAAKS,UAAL,CAAgB,QAAhB,EAA0BhB,KAAzD;AACH,IAAA,KAFD;AAGH,IAAA;;ICXc,SAASiB,WAAT,CAAqBlB,MAArB,EAA6B;AACxC,IAAA,QAAIN,YAAJ;;AAEA,IAAA,SAAKA,GAAL,IAAYM,MAAZ,EAAoB;AAChB,IAAA,YAAIA,OAAOmB,cAAP,CAAsBzB,GAAtB,CAAJ,EAAgC;AAC5BK,IAAAA,qBAASC,MAAT,EAAiBN,GAAjB;AACH,IAAA;AACJ,IAAA;;AAEDkB,IAAAA,mBAAeZ,MAAf;AACH,IAAA;;ICZD,SAASoB,EAAT,GAA0B;AAAA,IAAA,QAAdC,OAAc,yDAAJ,EAAI;;;AAEtB,IAAA,WAAO,IAAID,GAAGE,EAAH,CAAMC,IAAV,CAAeF,OAAf,CAAP;AACH,IAAA;;AAEDD,IAAAA,GAAGE,EAAH,GAAQF,GAAGI,SAAH,GAAe;AACnBC,IAAAA,iBAAaL,EADM;AAEnBG,IAAAA,QAFmB,gBAEdF,OAFc,EAEL;AACVH,IAAAA,oBAAYG,QAAQK,IAApB;AACA,IAAA,eAAO;AACHA,IAAAA,kBAAML,QAAQK,IADX;AAEHjC,IAAAA;AAFG,IAAA,SAAP;AAIH,IAAA;AARkB,IAAA,CAAvB,CAWA;;;;"}